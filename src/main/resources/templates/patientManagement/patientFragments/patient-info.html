<div th:fragment="patientToEdit">
    <form
            th:attr="hx-post=@{/patient-management/edit}"
            th:object="${patient}"
            hx-target="this"
            hx-swap="outerHTML">
        <div>
            <label>Nome completo: </label><span th:text="${patient.name}"></span>
            <input type="hidden" th:field="*{name}"/>
        </div>
        <div>
            <label>Cartão SUS: </label><span th:text="${patient.susNumber}"></span>
            <input type="hidden" th:field="*{susNumber}"/>
        </div>
        <div>
            <label>CPF: </label><span th:text="${patient.cpf}"></span>
            <input type="hidden" th:field="*{cpf}"/>
        </div>
        <div>
            <label>Sexo: </label><span th:text="${patient.gender}"></span>
            <input type="hidden" th:field="*{gender}"/>
        </div>
        <div>
            <label>Data de Nascimento: </label><span th:text="${patient.formattedBirthDate()}"></span>
            <input type="hidden" th:field="*{birthDate}"/>
        </div>
        <div>
            <label>Situação Social: </label><span th:text="${patient.socialSituationRating.description}"></span>
            <input type="hidden" th:field="*{socialSituationRating}"/>
        </div>
        <div>
            <label>Telefone: </label><span th:text="${patient.phoneNumber}"></span>
            <input type="hidden" th:field="*{phoneNumber}"/>
        </div>
        <div>
            <label>Logradouro: </label><span th:text="${patient.addressStreet}"></span>
            <input type="hidden" th:field="*{addressStreet}"/>
        </div>
        <div>
            <label>Número: </label><span th:text="${patient.addressNumber}"></span>
            <input type="hidden" th:field="*{addressNumber}"/>
        </div>
        <div>
            <label>Complemento: </label><span th:text="${patient.addressComplement}"></span>
            <input type="hidden" th:field="*{addressComplement}"/>
        </div>
        <div>
            <label>Referência: </label><span th:text="${patient.addressReference}"></span>
            <input type="hidden" th:field="*{addressReference}"/>
        </div>
        <div>
            <label>ACS Responsável: </label><span th:text="${patient.acsName}"></span>
            <input type="hidden" th:field="*{acsName}"/>
        </div>
        <input type="hidden" id="id" th:field="*{id}"/>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <div>
            <button type="submit">Editar</button>
            <button>Cancelar</button>
        </div>
    </form>
    <th:block th:if="${error != null and error == false}"> <!--  Se a variável 'error' não for nula e falsa, este bloco será renderizado como sucesso -->
        <div class="text-white px-6 py-4 border-0 rounded relative mb-4 bg-emerald-500">
            <span class="text-xl inline-block mr-5 align-middle">
                <i class="fas fa-bell"></i>
            </span>
            <span class="inline-block align-middle mr-8" th:text="${message}"></span>
            <button class="absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none" onclick="closeAlert(event)">
                <span>×</span>
            </button>
        </div>
    </th:block>
    <th:block th:if="${error != null and error == true}">
        <div class="text-white px-6 py-4 border-0 rounded relative mb-4 bg-red-500">
            <span class="text-xl inline-block mr-5 align-middle">
                <i class="fas fa-bell"></i>
            </span>
            <span class="inline-block align-middle mr-8" th:text="${message}"></span>
            <button class="absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none" onclick="closeAlert(event)">
                <span>×</span>
            </button>
        </div>
    </th:block>
</div>